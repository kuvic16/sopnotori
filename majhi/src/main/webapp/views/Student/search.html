<div style="padding: 5px">
<h3 class="button-tooltip">
Students
    <span data-toggle="collapse"
          data-target="#collapseOne"
          data-parent="#accordion">
        <a style="cursor: pointer; float: right; margin-left: 5px;"
           data-toggle="tooltip" data-placement="top"
           data-original-title="Advanced Search" 
           class="btn btn-info btn-circle">
           <span class="fa fa-search"></span>
        </a>
    </span>

    <a id="new"
       class="btn btn-primary btn-circle"
       style="float: right; margin-left: 5px;" 
       data-placement="top"
       data-toggle="tooltip"
       data-original-title="Create New Student"
       onclick="closeToolTip()"
       href="#/Student/new">
       <span class="fa fa-plus"></span>
    </a>

    <a id="refresh"
       class="btn btn-success btn-circle"
       style="float: right; margin-left: 5px;" 
       data-placement="top"
       data-toggle="tooltip"
       data-original-title="Refresh"
       href="#/Student/"
       onclick="closeToolTip()">
       <span class="fa fa-refresh"></span>
    </a>

    <!-- <a 	id="download" 
    	class="btn btn-warning btn-circle"
       	style="float: right; margin-left: 5px;" 
       	data-placement="top"
       	data-toggle="tooltip" 
       	data-original-title="Export" href="#">
       <span class="fa fa-download"></span>
    </a>
 -->
    <script>
        // tooltip initialize
        $(function () {
            $('.button-tooltip').tooltip({
                html: true,
                selector: "[data-toggle=tooltip]",
                container: "body"
            });
        });

        function closeToolTip() {
            $(".tooltip").remove();
        }
    </script>

</h3>
<div class="form-horizontal">
    <div class="panel-group" id="accordion">
        <div class="panel panel-warning" style="border-color: transparent;">
            <div id="collapseOne" class="panel-collapse collapse">
                <div class="panel-body" style="padding-left: 0px">

                    <form id="StudentSearch"  name="StudentForm"  class="form-horizontal">
                    
                    
                         <div class="col-sm-12" style="padding-left: 0px; padding-right: 0px;">
							<div class="row">
									 <div class="col-sm-3">
										<div class="form-group" ng-class="{'has-error': StudentForm.fullName.$invalid}">
		                                    <label for="fullName" class="control-label">Name</label>
		                                    <div id="fullNameControls" class="col-sm-12 clearPaddingLeft">
			                                    <input id="fullName"
			                                    		ng-maxlength="50" 
														ng-minlength="0"  
			                                    		name="fullName"
			                                           class="form-control"
			                                           type="text"
			                                           ng-model="search.fullName"></input></div>
			                                <span	class="help-block error"
														ng-show="StudentForm.fullName.$error.minlength">minimum character
														length is 0
												</span>
												<span 	class="help-block error"
														ng-show="StudentForm.fullName.$error.maxlength">maximum character
														length is 50
												</span>
		                                </div>
	                            	</div>
								
		                            <div class="col-sm-3">
		                                <div class="form-group" ng-class="{'has-error': StudentForm.studentId.$invalid}">
		                                    <label for="studentId" class="control-label">Roll No</label>
			                                    <div id="studentIdControls" class="col-sm-12 clearPaddingLeft">
				                                    <input 	id="studentId"
				                                    		name="studentId"
				                                    		ng-maxlength="50" 
															ng-minlength="0"  
				                                           	class="form-control"
				                                           	type="text"
				                                           	ng-model="search.studentId"></input></div>
				                             <span	class="help-block error"
														ng-show="StudentForm.studentId.$error.minlength">minimum character
														length is 0
												</span>
												<span 	class="help-block error"
														ng-show="StudentForm.studentId.$error.maxlength">maximum character
														length is 50
												</span>
		                                </div>
		                            </div>
								
			                           <div class="col-sm-3">
				                            <div class="form-group">
				                            <label for="gender" class="control-label">Gender</label>
				                            	 <div id="genderControls" class="col-sm-12 clearPaddingLeft">
						                                <select name="gender" ng-model="search.sex" class="form-control">
														<option value="">--Select Sex--</option>
														<option value="M">Male</option>
														<option value="F">Female</option>
														<option value="O">Other</option>
													</select></div>
				                            </div>
				                    	</div>
                            
		                            <div class="col-sm-3">
			                            <div class="form-group" ng-class="{'has-error': StudentForm.waiver.$invalid}">
			                                <label for="waiver" class="control-label">Waiver %</label>
			                                	<div id="waiverControls" class="col-sm-12 clearPaddingLeft">
					                                <input id="waiver"
					                                       class="form-control"
					                                       type="number"
					                                       name="waiver"
					                                       ng-maxlength="3" 
														   ng-minlength="0" 
					                                       min="0"
					                                       max="100"
					                                       ng-pattern = "{{validation.number}}"
					                                       ng-model="search.waiver"></input></div>
					                                    
					                            <span	class="help-block error"
														ng-show="StudentForm.waiver.$error.minlength">minimum value is 0
												</span>
												<span 	class="help-block error"
														ng-show="StudentForm.waiver.$error.maxlength">maximum value 100
												</span>
				                            </div>
			                        </div>
		                        </div>
	                        </div>
	                        
	                          <div class="col-sm-12" style="padding-left: 0px; padding-right: 0px;">
								<div class="row">
									 <div class="col-sm-3">
		                                <div class="form-group" ng-class="{'has-error': StudentForm.guardianMobile.$invalid}">
		                                    <label for="guardianMobile" class="control-label">Guardian Mobile</label>
			                                    <div id="guardianMobileControls" class="col-sm-12 clearPaddingLeft">
				                                    <input 	id="guardianMobile"
				                                    		name="guardianMobile"
				                                           	class="form-control"
				                                           	type="text"
				                                           	ng-pattern = "{{validation.phoneNumber}}"
				                                           	ng-maxlength="20" 
															ng-minlength="0"  
				                                           	ng-model="search.guardianMobile"></input></div>
			                                    <span	class="help-block error"
														ng-show="StudentForm.guardianMobile.$error.minlength">minimum character
														length is 0
												</span>
												<span class="help-block error" ng-show="StudentForm.guardianMobile.$error.pattern">
														Only number[0-9] , - and space are allowed.
												</span> 
												<span 	class="help-block error"
														ng-show="StudentForm.guardianMobile.$error.maxlength">maximum character
														length is 20
												</span>
			                                </div>
	                            	 </div>
	                            	
	                            	
                                                 
			                            <div class="col-sm-3">
					                       <div class="form-group">
				                            <label for="dropOut" class="control-label">Dropout</label>
				                            	<div id="studentIdControls" class="col-sm-12 clearPaddingLeft">
				                                <select name="dropOut" ng-model="search.dropout" class="form-control">
												<option value="">--Select Drop out--</option>
												<option value="true">Yes</option>
												<option value="false">No</option>
											</select></div>
				                            </div>
				                    	</div>
	                    	
				                    	 <div class="col-sm-3">
								             <div class="form-group" ng-class="{'has-error': StudentForm.transferredSchoolName.$invalid}">
			                                    <label for="transferredSchoolName" class="control-label">Transferred School</label>
			                                    <div id="transferredSchoolNameControls" class="col-sm-12 clearPaddingLeft">
			                                    <input id="transferredSchoolName"
			                                    		name="transferredSchoolName"
			                                           class="form-control"
			                                           type="text"
			                                           ng-maxlength="50" 
														ng-minlength="0"  
			                                           ng-model="search.nameOfTransferredSchool"></input></div>
			                                     <span	class="help-block error" ng-show="StudentForm.transferredSchoolName.$error.minlength">
			                                     	minimum character length is 0
												</span>
												<span 	class="help-block error" ng-show="StudentForm.transferredSchoolName.$error.maxlength">
													maximum character length is 50
												</span>       
			                                         
			                                </div>
			                            </div>

			                    	 <div class="col-sm-3">
							             <div class="form-group">
							             
			                            <label for="typeOfEthnicityCommunityUdvId" class="control-label">Ethnicity Community Type</label>
			                            <div id="typeOfEthnicityCommunityUdvIdControls" class="col-sm-12 clearPaddingLeft">
			                                <select name="typeOfEthnicityCommunityUdvId" ng-model="search.typeOfEthnicityCommunityUdvId" class="form-control">
			                                    <option value="">--Select Ethnicity Community Type--</option>
			                                    <option ng-repeat="udv in udvList | filter:udv.category='Ethnicity community type'" 
			                                    		value="{{udv.id}}"> {{udv.value}} 
			                                    </option>
			                                </select></div>
			                              
			                            </div>
			                        </div>
	                        
	                        	</div>
	                        </div>
	                        
                            
                          <div class="col-sm-12" style="padding-left: 0px; padding-right: 0px;">
								<div class="row">
									                       
	                        	
									<div ng-controller="BracLocationController">
										<braclocation row="3" name="brac"></braclocation>
									</div>
							
								
								<div class="col-sm-3">
			                    	<div class="form-group">
			                            <label for="instituteId" class="control-label">Institute</label>
			                            	 <div id="instituteIdControls" class="col-sm-12 clearPaddingLeft">
				                                <select name="instituteId" 
				                                		ng-model="search.instituteId" 
				                                		class="form-control"
				                                		ng-disabled="instituteDisable"
				                                		ng-change="onInstituteChange(search.instituteId)">
				                                    <option value="">--Select Institute--</option>
				                                    <option ng-repeat="insList in instituteList" 
				                                    		value="{{insList.id}}"> {{insList.name}} </option>
				                                </select>
			                                </div>
			                            </div>
	                    			</div>
								
								
                        	</div>
                        	
                        	
                        	<div class="col-sm-12" style="padding-left: 0px; padding-right: 0px;">
								<div class="row">

	                       		<div class="col-sm-3">
			                    	<div class="form-group">
	                            <label for="gradeId" class="control-label">Grade</label>
	                             <div id="gradeIdControls" class="col-sm-12 clearPaddingLeft">
	                                <select name="gradeId" ng-model="search.gradeId" class="form-control">
	                                    <option value="">--Select Grade--</option>
	                                    <option ng-selected="search.gradeId == gdList.id"  ng-repeat="gdList in gradeList" 
	                                    		value="{{gdList.id}}"> {{gdList.name}} </option>
	                                </select>
	                                </div>
	                            </div>
	                    	</div>
	                        
	                        
	                        <div class="col-sm-3">
			                            <div class="form-group">
				                            <label for="typeOfCsnUdvId" class="control-label">Csn Type</label>
					                            <div id="typeOfCsnUdvIdControls" class="col-sm-12 clearPaddingLeft">
					                                <select name="typeOfCsnUdvId" ng-model="search.typeOfCsnUdvId" class="form-control">
					                                    <option value="">--Select Csn Type--</option>
					                                    <option ng-repeat="udv in udvList | filter:udv.category='Csn type'" 
					                                    		value="{{udv.id}}"> {{udv.value}} 
					                                    </option>
					                                </select>
					                            </div>
				                            </div>
			                        	</div>
	                        
	                        
	                       <div class="col-sm-3">
			                    	<div class="form-group">
	                            <label for="locationTypeUdvId" class="control-label">Location Type</label>
	                             <div id="locationTypeUdvIdControls" class="col-sm-12 clearPaddingLeft">
	                                <select name="locationTypeUdvId" 
	                                		ng-model="search.locationTypeUdvId" 
	                                		class="form-control">
	                                    <option value="">--Select Location Type--</option>
	                                    <option ng-repeat="udv in udvList | filter:udv.category='Location type'" 
	                                    		value="{{udv.id}}">{{udv.value}}
	                                    </option>
	                                </select>
	                                </div>
	                            </div>
	                        </div>
	                        
	                     </div>
	                     </div>
                        </div>

                        <div class="col-sm-12">
                            <div class="form-group">
                                <a 	id="Search" 
                                	name="Search" 
                                	ng-disabled="StudentForm.$invalid"
                                	class="btn btn-primary"
                                   	ng-click="searchButtonListener()">Search</a>
                                   	 
                                <a class="btn btn-default" 
                                	style="cursor: pointer;"
                                	data-toggle="collapse" 
                                	data-parent="#accordion"
                                    data-target="#collapseOne" 
                                    ng-click="clearSearch()">Cancel</a>
                            </div>
                        </div>
                        
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="search-results">
    <div class="panel panel-default">

        <div class="panel-heading">Total Student: {{totalSize}}</div>

       
        <div class="panel-body button-tooltip">
            <div class="dataTable_wrapper">
                <div id="dataTables-example_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                    <div class="row">
                        <div class="col-sm-12">
                            <table id="dataTables-example"
                                   class="table table-striped table-bordered table-hover dataTable no-footer table-condensed"
                                   role="grid"
                                   aria-describedby="dataTables-example_info"
                                   style="font-size: 10px">
                                <thead>
                                    <tr role="row">
                                        <th>Name</th>
                                        <th>Roll No</th>
                                        <th>Grade</th>
                                        <th>Institute</th>
                                        <th>Gender</th>
                                        <th>Waiver</th>
                                        <th>Guardian Number</th>
                                        <th>Father Name</th>
                                        <th>Dropout</th>
                                        <th>Transferred Institute</th>
                                        
                                        <th style="width: 82px; text-align: center;">
                                            <ul class="pagination pull-right" style="margin: 0px; padding: 0px;">
                                                <li ng-class="{disabled:currentPage == 0}">
                                                    <a id="prev" ng-click="previous()">
                                                        <span class="fa  fa-caret-left "></span>
                                                    </a>
                                                </li>
                                                <li ng-class="{disabled: currentPage == (maxPage - 1)}">
                                                    <a id="next" ng-click="next()">
                                                        <span class="fa  fa-caret-right"></span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr role="row" ng-repeat="result in searchResults">
                                        <td class="sorting_1">
                                            <a href="#/Student/edit/{{result.id}}">{{result.fullName}}</a>
                                        </td>
                                        
                                        <td class="sorting_1">
                                            <a href="#/Student/edit/{{result.id}}">{{result.studentId}}</a>
                                        </td>
                                        
                                         <td class="sorting_1">
                                            <a href="#/Student/edit/{{result.id}}">{{result.gradeId}}</a>
                                        </td>
                                        
                                         <td class="sorting_1">
                                            <a href="#/Student/edit/{{result.id}}">{{result.instituteId}}</a>
                                        </td>
                                        
                                       <!-- <td class="sorting_1">
                                            <a href="#/Student/edit/{{result.id}}">{{result.sex}}</a>
                                        </td> 
                                         -->
                                       <!--  ============================================================== -->
                                       
                                       	<td class="sorting_1" ng-switch on="result.sex">
										      <div  ng-switch-when="F">Female</div>
										      <div  ng-switch-when="M">Male</div>
										      <div  ng-switch-when="O">Other</div>
										      <div  ng-switch-default></div>
										  </td>
                                       
                                        <!--  <td class="sorting_1" ng-if = "result.sex == 'F'">
                                            <a href="#/Student/edit/{{result.id}}">Female</a>
                                         </td>
                                         
                                          <td class="sorting_1" ng-if = "result.sex == 'M'">
                                            <a href="#/Student/edit/{{result.id}}">Male</a>
                                         </td>
                                         
                                          <td class="sorting_1" ng-if = "result.sex == 'O'">
                                            <a href="#/Student/edit/{{result.id}}">Other</a>
                                         </td> -->
                                        <!-- ================================================================== -->
                                        
                                         <td class="sorting_1">
                                            <a href="#/Student/edit/{{result.id}}">{{result.waiver}}</a>
                                        </td>
                                        
                                         <td class="sorting_1">
                                            <a href="#/Student/edit/{{result.id}}">{{result.guardianMobile}}</a>
                                        </td>
                                        
                                         <td class="sorting_1">
                                            <a href="#/Student/edit/{{result.id}}">{{result.fatherName}}</a>
                                        </td>
                                        
                                         <td class="sorting_1">
                                            <a href="#/Student/edit/{{result.id}}">{{(result.dropout == "true") ? "Yes" : "No"}}</a>
                                        </td>
                                        
                                         <td class="sorting_1">
                                            <a href="#/Student/edit/{{result.id}}">{{result.nameOfTransferredSchool}}</a>
                                        </td>
  
                                        <td>
                                            <a 	class="btn btn-success btn-circle"
	                                            data-toggle="tooltip" 
	                                            title="Edit" 
	                                            onclick="closeToolTip()"
	                                            href="#/Student/edit/{{result.id}}">
                                                <span class="fa fa-edit"></span>
                                            </a>
                                            
                                            <a 	ng-show="result.id"
                                             	data-toggle="tooltip" 
                                            	title="Delete"  
                                            	onclick="closeToolTip()"
                                            	ng-click="remove(result.fullName, result.id)" class="btn btn-danger btn-circle" style="margin-left: 0px;">
                                                <span class="fa fa-trash-o"></span>
                                            </a>
                                        </td>
                                        
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div ng-include="'views/Util/pagination.html'"></div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<script type="text/javascript">
    $('.datePicker').datepicker({
        autoclose: true,
        format: "yyyy-mm-dd",
        todayHighlight: true,
        orientation: "top auto"
    });

    $('.yearPicker').datepicker({
        autoclose: true,
        format: "yyyy",
        todayHighlight: true,
        orientation: "top auto",
        minViewMode: 2
    });
</script>
<script src="scripts/controllers/bracLocation/bracLocationController.js"></script>